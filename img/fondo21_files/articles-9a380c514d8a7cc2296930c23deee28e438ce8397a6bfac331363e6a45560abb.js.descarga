function getKeyGmapsAPI(){return"AIzaSyCc7apcq3JN3bS8ae62t1X2c4vUHRRgQXg"}function getKeyBMapsAPI(){return"UwdvDRPaGfMjzmBtlo9BGGD9"}function loadGoogleMapsAPI(e){var t=getKeyGmapsAPI(),n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key="+t+"&sensor=false&callback="+e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}function loadBaiduMapsAPI(e){var t=getKeyBMapsAPI(),n=document.createElement("script");n.src="https://api.map.baidu.com/api?v=2.0&ak="+t+"&callback="+e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}function initializeSingleMap(){var e=new google.maps.LatLng(lat,lng),t=new google.maps.Map(document.getElementById("single-map"),{zoom:16,center:e,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}),n=new google.maps.LatLng(lat,lng);new google.maps.Marker({position:n,icon:new google.maps.MarkerImage(MAP_CUSTOM_MARKER,null,null,null,new google.maps.Size(32,32))}).setMap(t)}function initializeSingleMapCn(){var n=new BMap.Map("single-map"),e=new BMap.Point(lng,lat),o=new BMap.Icon(MAP_CUSTOM_MARKER,new BMap.Size(32,32));bmap.convert(e,2,function(e){var t=new BMap.Marker(e,{icon:o});n.addOverlay(t),n.centerAndZoom(e,16),n.addControl(new BMap.NavigationControl)})}function btnToShowComments(){var e=$(".js-show-comments").first(),t=$("#comments-box"),n=e.data().token,o=Nimrod.cdnUrl+"/api/v1/comments",a={token:n,site:Nimrod.site};loadContentByAjax(o,a).done(function(e){t.removeClass("hide"),t.html(e),$(".js-show-comments").addClass("hide").removeClass("show-comments-btn")})}function navArticlesWithArrows(){0<$("#js-arrow-key-nav").length&&"D"==vogue_type&&$(document).on("keydown",function(e){var t=e.target.tagName.toLowerCase();if(0<=["input","select","textarea"].indexOf(t))return!0;39===e.keyCode?(window.adInsights.e("articles-onkey-navigation","link","navigation-next"),window.location.href=$(".afd-article-navigation.afd-article-navigation--next").attr("href")):37===e.keyCode&&(window.adInsights.e("articles-onkey-navigation","link","navigation-prev"),window.location.href=$(".afd-article-navigation.afd-article-navigation--prev").attr("href"))})}function initShowMore(t){var e=document.getElementById("js-show-more-content");if(e){var n=document.querySelectorAll("#single-content > *:not(:empty):not(script)"),o=document.body.classList.contains("single-project");if(t&&t<n.length){var a=0;n.forEach(function(e){o&&e.matches("figure:nth-of-type(2)")||e.matches(".featured-image, .thumbs")||(t<=a&&e.classList.add("show-more","afd-hide"),a<t&&(e.matches("p:not(:empty)")||e.matches("figure"))&&a++)}),e.addEventListener("click",function(){document.querySelectorAll(".show-more").forEach(function(e){e.classList.remove("afd-hide")}),e.classList.add("afd-hide"),loadLazyImgs()}),e.classList.remove("afd-hide")}}}function galleryList(e){var t=$(".gallery-thumbs").last().children();if(showMorePicturesBtn=$(".js-show-more-pictures").last(),galleryLength=t.length,!(galleryLength<=e)){showMorePicturesBtn.removeClass("afd-hide");for(var n=0;n<galleryLength;n++)e-1<n&&t[n].classList.add("show-more-pictures","afd-hide")}}function hideArticleNavWhenBillboardVisible(){function e(e){e.forEach(function(e){e.isIntersecting?n.classList.add("afd-hide"):n.classList.remove("afd-hide")})}var t=document.querySelector(".banners--billboard"),n=document.getElementById("article-navigation");t&&n&&new IntersectionObserver(e,{threshold:[0,1]}).observe(t)}function hideSidebarBannerNextToOpenweb(){function e(e){e.forEach(function(e){e.isIntersecting&&(n.classList.add("fade","fade-out"),setTimeout(function(){n.remove(),setSidebarHeight()},500),o.unobserve(t))})}var t=document.getElementById("article-comments"),n=document.querySelector(".afd-sidebar-widget .js-slot");if(t&&n){var o=new IntersectionObserver(e);o.observe(t)}}function iosCopyToClipboard(){var e=document.querySelector(".js-copy-btn");null!==e&&e.addEventListener("click",function(){iosCopy()})}function iosCopy(){var e=document.querySelector(".js-copy-text"),t=e.contentEditable,n=e.readOnly;e.contentEditable=!0,e.readOnly=!1;var o=document.createRange();o.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(o),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=n}function copyArticleUrl(){var e=document.querySelector(".js-copy-btn");null!==e&&e.addEventListener("click",function(){var e="";document.querySelector(".js-copy-text").select();try{e=document.execCommand("copy"),$(this).children().children("span.afd-copy-text").text("OK"),$(this).children().children(".afd-copy-clipboard-in-btn").css("display","none")}catch(t){}return e})}function listenVoguing(){removeABTestWidgets(),$(vogue_hr).last().one("inview",function(e,t){t&&callVoguing()}),$(vogue_hr).last().bind("inview",function(e,t){1!=t&&updateHeaders($(this).offset().top+$(this).outerHeight()<$(window).scrollTop()+$(window).height(),parseInt($(this).attr("position")))})}function callVoguing(){var e='<div class="loading"><img class="nrd-infinite-loader js-infinite-loader" src="'+NRD.loader_blue+'"></div>',t=$(".vogue_container").last(),n=t.data().nextArticle,o=Nimrod.cdnUrl+"/"+Nimrod.site+"/following_article?token="+n;t.append(e),loadContentByAjax(o,{}).done(function(e){$(".loading").last().remove(),$(".afd-main-content").append(e),addVoguingHeader(),recallScripts(e)})}function recallScripts(){null!=notifications&&(notifications.setupEntityHints(),notifications.setupButtons()),loadWidgets(),listenVoguing(),galleryList(12)}function updateHeaders(e,t){if(e&&(t+=1),"desktop"==device){var n=voguingHeaders[t].find(".myarchdaily-multiple-fav").attr("href").slice(0,-1);$(desk_header).replaceWith(voguingHeaders[t])}else{n=$(mob_header)[t].children[0].href.slice(0,-1);$(mob_header).css("display","none"),$(mob_header)[t].style.display="flex"}voguePosition=t;var o=$("h1.afd-title-big")[t].innerHTML.replace(/\r?\n/g,"")+" | Archdaily";window.history.replaceState({},o,n+"?ad_name=single-scroll"),document.title=o,voguingEvents<t&&(ga&&ga("send","pageview",n+"?ad_name=single-scroll"),adInsights&&adInsights.p({url:n+"?ad_name=single-scroll"}),voguingEvents+=1)}function addVoguingHeader(){var e=$(desk_header).last(),t=$(mob_header).last();$(vogue_hr).last().attr("position",voguingHeaders.length),voguingHeaders.push(e),voguingHeaders_mobile.push(t)}function removeDesktopNavigation(){$("#article-navigation").remove(),$(".afd-sidebar-widget--margin").css("margin","80px 0 0 0")}function removeABTestWidgets(){"A"!=vogue_type&&"desktop"!=device&&("B"==vogue_type?($("#more-from-office").remove(),$("#most-visited").remove(),$("#featured-products").remove(),$("#more-type").remove(),$("#more-events").remove(),$("#more-category").remove()):"C"==vogue_type&&$("#js-only-mobile-widgets").last().remove(),removeDesktopNavigation())}function removeROCSpecs(){var e=document.querySelectorAll("ul.js-char-list li .afd-specs__value");e&&e.forEach(function(e){var t=e.querySelector("a");if(t&&countriesToRemove.includes(t.text)){var n=e.closest("li.afd-specs__item");n&&n.remove()}})}function dateMobilePosition(){var e=document.querySelector(".single-date"),t=document.getElementById("single-share");"desktop"!=device&&e&&t.prepend(e)}!function(){function a(e,t){var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t&&t(),o.onload=o.onreadystatechange=null,n&&o.parentNode&&n.removeChild(o))},n.insertBefore(o,n.firstChild)}var e;e={convert:function(e,t,n){var o="cbk_"+Math.round(1e4*Math.random());a("http://api.map.baidu.com/ag/coord/convert?from="+t+"&to=4&x="+e.lng+"&y="+e.lat+"&callback=BMap.Convertor."+o),BMap.Convertor[o]=function(e){delete BMap.Convertor[o];var t=new BMap.Point(e.x,e.y);n&&n(t)}}},window.bmap=e}(this.jQuery);var lat="",lng="",position=0,quoteOutsideNFTHasBeenSent=!1,formsSent={},quoteOutsideNFTAssetsLoaded=!1,voguingHeaders=[],voguingHeaders_mobile=[],voguingEvents=0,voguePosition=0,vogue_hr="hr.vogue_hr",desk_header=".article-fixed-bar",mob_header=".afd-bookmark-mob",MAP_CUSTOM_MARKER="/assets/new/marker.png",countriesToRemove=["Taiwan","Taiw\xe1n","\u53f0\u6e7e","\u4e2d\u56fd\u53f0\u6e7e","Taiwan (ROC)","Hong Kong (SAR)","Hong Kong","Macao (SAR)","Macao","\u4e2d\u56fd","\u4e2d\u56fd\u6fb3\u95e8","\u4e2d\u56fd\u9999\u6e2f"];window.dataLayer&&dataLayer.push({event:"optimize.activate.voguing"}),0<location.search.indexOf("vogue")?window.vogue_type=location.search.split("vogue=")[1]:"undefined"==typeof window.vogue_type&&(window.vogue_type="D"),$(document).ready(function(){dateMobilePosition(),navArticlesWithArrows(),initShowMore(4),removeROCSpecs(),"D"!=vogue_type&&(listenVoguing(),addVoguingHeader());var e=new Date,t=$("#the_content"),n="";"desktop"!=device&&($("ul.singlepost").find("#singlePost-bookmark").remove(),galleryList(12)),0<t.length&&(n=$('meta[property="archdaily:type"]').attr("content")),""!==n&&ga("set","dimension1",n),Date.prototype.getMonthNameAbbr=function(e){var t=[];return t.en=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.pt=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],t.es=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],t.cn=["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],t[e][this.getMonth()]};var o=$(".js-today").data("lang");o&&$(".js-today").html(e.getDate()+" "+e.getMonthNameAbbr(o)+" "+e.getFullYear()),$("#single-map-image").on("click",function(e){if(e.preventDefault(),$("#single-map").css("height","360px"),lat=$(this).data("latitude"),lng=$(this).data("longitude"),"cn"===Nimrod.site){$(this).data("options-for-china"),$(this).data("country");loadBaiduMapsAPI("initializeSingleMapCn")}else loadGoogleMapsAPI("initializeSingleMap")}),0<$(".single-post").length&&($(".js-show-comments").on("click",function(){btnToShowComments()}),"desktop"!=device&&$(".js-show-mobile-comments").addClass("show-comments-btn").removeClass("hide")),"undefined"!=typeof AFD&&"undefined"!=typeof AFD.tracking&&(AFD.tracking.ga.init(".js-single-share-top .single-share__item a","UI Tracking","single-social-share-top"),AFD.tracking.ga.init(".js-single-share-bottom .single-share__item a","UI Tracking","single-social-share-bottom"),AFD.tracking.ga.init(".single-whatsapp a","UI Tracking","click on single-social-share-top","whatsapp share"),AFD.tracking.ga.init(".afd-post-actions:first .single-bookmark a","Register","click","Single Header Bookmark NRD"),AFD.tracking.ga.init(".afd-post-actions:last .single-bookmark a","Register","click","Single Bottom Bookmark NRD")),$(".js-single-share-top a").click(function(){var e=$(this).data("social");null!=e&&window.adInsights.e("nrd-article-share","click",e,"top")}),$(".js-single-share-bottom a").click(function(){var e=$(this).data("social");null!=e&&window.adInsights.e("nrd-article-share","click",e,"bottom")}),$(".js-share-folder").on("click",function(){navigator.share?(window.adInsights.e("nrd-article-share","click","native"),navigator.share({title:document.title,url:window.location.href})["catch"](console.error)):(window.adInsights.e("nrd-article-share","click","non-native"),$(this).children(".js-share-folder-box").toggleClass("afd-hide"))}),1==(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))?iosCopyToClipboard():copyArticleUrl(),$(document).on("click",".js-show-more-pictures",function(){$(this).prev("ul").find("li.show-more-pictures").toggleClass("afd-hide"),loadLazyImgs(),$(this).toggleClass("toggle-text")}),hideArticleNavWhenBillboardVisible(),setSidebarHeight(),hideSidebarBannerNextToOpenweb()});